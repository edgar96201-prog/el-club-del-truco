<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>El Club del Truco</title>
  <style>
    body {
      background:#0b3d2e;
      font-family: Georgia, serif;
      color:#fff;
      text-align:center;
      margin:0;
      padding:0;
    }
    h1 {
      margin-top:20px;
    }
    .mesa {
      margin:30px auto;
      width:90%;
      max-width:900px;
      background:#145a32;
      border:6px solid #4a2c16;
      border-radius:20px;
      padding:20px;
    }
    .cartas {
      display:flex;
      justify-content:center;
      gap:15px;
      margin:15px 0;
      min-height:130px;
    }
    .carta {
      width:80px;
      height:120px;
      background:#fdf6e3;
      color:#000;
      border-radius:8px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:18px;
      cursor:pointer;
      box-shadow:2px 2px 5px rgba(0,0,0,0.5);
    }
    .carta:hover {
      transform: translateY(-5px);
    }
    .botones button {
      margin:5px;
      padding:10px 15px;
      font-size:16px;
      border:none;
      border-radius:8px;
      cursor:pointer;
    }
    .log {
      background:#0e6655;
      padding:10px;
      border-radius:10px;
      min-height:60px;
      margin-top:15px;
    }
  </style>
</head>
<body>

<h1>üÉè El Club del Truco</h1>
<p>Demo local ‚Äì 1 vs 1</p>

<div class="mesa">

  <h3>Mesa</h3>
  <div class="cartas" id="mesa"></div>

  <h3>Tu mano</h3>
  <div class="cartas" id="manoJugador"></div>

  <div class="botones">
    <button onclick="cantar('Envido')">Envido</button>
    <button onclick="cantar('Truco')">Truco</button>
    <button onclick="cantar('Quiero')">Quiero</button>
    <button onclick="cantar('No quiero')">No quiero</button>
    <button onclick="mazo()">Mazo</button>
  </div>

  <div class="log" id="log"></div>

</div>

<script>
  const cartas = ['1 Espada','7 Oro','3 Copa'];
  const manoDiv = document.getElementById('manoJugador');
  const mesaDiv = document.getElementById('mesa');
  const logDiv = document.getElementById('log');

  function repartir() {
    manoDiv.innerHTML = '';
    mesaDiv.innerHTML = '';
    cartas.forEach(c => {
      const div = document.createElement('div');
      div.className = 'carta';
      div.innerText = c;
      div.onclick = () => jugarCarta(div, c);
      manoDiv.appendChild(div);
    });
    log('Se repartieron las cartas');
  }

  function jugarCarta(div, carta) {
    mesaDiv.appendChild(div);
    div.onclick = null;
    log('Jugaste: ' + carta);
  }

  function cantar(texto) {
    log('Cantaste: ' + texto);
  }

  function mazo() {
    log('Te fuiste al mazo');
    repartir();
  }

  function log(texto) {
    logDiv.innerText = texto;
  }

  repartir();
</script>
<script>
let puntosJugador = 0;
let puntosRival = 0;

let estadoTruco = 0; 
// 0 nada ‚Äì 1 Truco ‚Äì 2 Retruco ‚Äì 3 Vale 4

const cartas = ['1 Espada','7 Oro','3 Copa'];
const manoDiv = document.getElementById('manoJugador');
const mesaDiv = document.getElementById('mesa');
const logDiv = document.getElementById('log');

const pJugadorSpan = document.getElementById('pJugador');
const pRivalSpan = document.getElementById('pRival');

function repartir() {
  manoDiv.innerHTML = '';
  mesaDiv.innerHTML = '';
  estadoTruco = 0;
  cartas.forEach(c => {
    const div = document.createElement('div');
    div.className = 'carta';
    div.innerText = c;
    div.onclick = () => jugarCarta(div, c);
    manoDiv.appendChild(div);
  });
  log('Se repartieron las cartas');
}

function jugarCarta(div, carta) {
  mesaDiv.appendChild(div);
  div.onclick = null;
  log('Jugaste: ' + carta);
}

function cantar(texto) {
  if (texto === 'Truco' && estadoTruco === 0) {
    estadoTruco = 1;
    log('Cantaste TRUCO');
  } 
  else if (texto === 'Quiero' && estadoTruco > 0) {
    sumarPuntos(estadoTruco + 1);
    log('¬°Quiero!');
    repartir();
  } 
  else if (texto === 'No quiero' && estadoTruco > 0) {
    sumarPuntos(estadoTruco);
    log('No quiero');
    repartir();
  } 
  else {
    log('No pod√©s cantar eso ahora');
  }
}

function sumarPuntos(puntos) {
  puntosJugador += puntos;
  pJugadorSpan.innerText = puntosJugador;
}

function mazo() {
  log('Te fuiste al mazo');
  repartir();
}

function log(texto) {
  logDiv.innerText = texto;
}

repartir();
</script>

