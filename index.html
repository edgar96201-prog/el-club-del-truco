<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>El Club del Truco</title>

<style>
body {
  background:#0b3d2e;
  color:#fff;
  font-family:Georgia, serif;
  text-align:center;
}
.mesa {
  background:#145a32;
  border:6px solid #4a2c16;
  border-radius:20px;
  margin:20px auto;
  padding:15px;
  max-width:900px;
}
.cartas {
  display:flex;
  justify-content:center;
  gap:12px;
  min-height:130px;
}
.carta {
  width:80px;
  height:120px;
  background:#fdf6e3;
  color:#000;
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:15px;
  cursor:pointer;
}
.rival .carta {
  background:#999;
}
.log {
  background:#0e6655;
  padding:10px;
  border-radius:10px;
  min-height:40px;
  margin-top:10px;
}
</style>
</head>

<body>

<h1>üÉè El Club del Truco</h1>

<div class="mesa">

<h3>Rival</h3>
<div class="cartas rival" id="manoRival"></div>

<h3>Mesa</h3>
<div class="cartas" id="mesa"></div>

<h3>Tu mano</h3>
<div class="cartas" id="manoJugador"></div>

<div class="log" id="log"></div>

<button onclick="repartir()">Repartir de nuevo</button>

</div>

<script>
const valores = {
 "1 Espada":14,"1 Basto":13,"7 Espada":12,"7 Oro":11,
 "3":10,"2":9,"1":8,"12":7,"11":6,"10":5,
 "7":4,"6":3,"5":2,"4":1
};

const mazoBase = Object.keys(valores);

let manoJugador=[], manoRival=[];

const mj = document.getElementById("manoJugador");
const mr = document.getElementById("manoRival");
const mesa = document.getElementById("mesa");
const log = document.getElementById("log");

function mezclar(arr){
  return arr.sort(()=>Math.random()-0.5);
}

function repartir(){
  mj.innerHTML="";
  mr.innerHTML="";
  mesa.innerHTML="";
  log.innerText="Se repartieron las cartas";

  const mazo = mezclar([...mazoBase]);
  manoJugador = mazo.slice(0,3);
  manoRival = mazo.slice(3,6);

  manoJugador.forEach(c=>{
    const d=document.createElement("div");
    d.className="carta";
    d.innerText=c;
    d.onclick=()=>jugar(c,d);
    mj.appendChild(d);
  });

  manoRival.forEach(()=>{
    const d=document.createElement("div");
    d.className="carta";
    d.innerText="üÇ†";
    mr.appendChild(d);
  });
}

function jugar(carta,div){
  mj.removeChild(div);
  mesa.innerHTML="";

  const cRival = manoRival.pop();
  mr.removeChild(mr.firstChild);

  const dj=document.createElement("div");
  dj.className="carta";
  dj.innerText=carta;

  const dr=document.createElement("div");
  dr.className="carta";
  dr.innerText=cRival;

  mesa.appendChild(dj);
  mesa.appendChild(dr);

  const vJ = valores[carta];
  const vR = valores[cRival];

  if(vJ > vR){
    log.innerText = "Ganaste la mano";
  } else {
    log.innerText = "Gan√≥ el rival";
  }
}

repartir();
</script>

</body>
</html>
